{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.Hosting.Lifetime": "Information"
    }
  },
  //日志清理
  "LogCleanup": {
    "IsEnabled": true,
    "RetentionDays": 2,
    "CheckIntervalHours": 1,
    "LogDirectory": "logs"
  },
  //上游连接配置
  "UpstreamRoutingConnectionOptions": {
    "Endpoint": "192.168.5.200",
    "Port": 2003,
    "Mode": "Server",
    "ConnectTimeoutMs": 3000,
    "ReceiveTimeoutMs": 5000,
    "SendTimeoutMs": 5000,
    "IsAutoReconnectEnabled": true,
    "ReconnectMinDelayMs": 100,
    "ReconnectMaxDelayMs": 2000,
    "ReconnectBackoffFactor": 1.2
  },
  //面板IO配置
  "IoPanelButtonOptions": [
    {
      "Point": 1,
      "ButtonType": "Start",
      "Type": "PanelButton",
      "ButtonName": "开始按钮",
      "TriggerState": "Low",
      "PollIntervalMs": 10,
      "DebounceWindowMs": 30
    },
    {
      "Point": 2,
      "ButtonType": "Stop",
      "Type": "PanelButton",
      "ButtonName": "停止按钮",
      "TriggerState": "Low",
      "PollIntervalMs": 10,
      "DebounceWindowMs": 30
    },
    {
      "Point": 4,
      "ButtonType": "EmergencyStop",
      "Type": "PanelButton",
      "ButtonName": "急停",
      "TriggerState": "High",
      "PollIntervalMs": 10,
      "DebounceWindowMs": 30
    }
  ],
  //预警配置
  "PreRunWarning": {
    "PreWarningDurationMs": 3000,
    "IoGroup": [
      {
        "Point": 5,
        "TriggerState": "Low",
        "Description": "启动前蜂鸣"
      }
    ]
  },
  //联动Io
  "IoLinkagePointOptions": [

    {
      "Point": 2,
      "RelatedSystemState": "Running",
      "Name": "安检前",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 3500,
      "Note": "安检前"
    },
    {
      "Point": 4,
      "RelatedSystemState": "Running",
      "Name": "拉距1",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 3000,
      "Note": "拉距1"
    },
    {
      "Point": 9,
      "RelatedSystemState": "Running",
      "Name": "创建包裹段",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 2500,
      "Note": "创建包裹段"
    },
    {
      "Point": 10,
      "RelatedSystemState": "Running",
      "Name": "出口1",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 2000,
      "Note": "出口1"
    },
    {
      "Point": 3,
      "RelatedSystemState": "Running",
      "Name": "摆轮段",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 1500,
      "Note": "摆轮段"
    },
    {
      "Point": 6,
      "RelatedSystemState": "Running",
      "Name": "黄灯",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "黄灯"
    },
    {
      "Point": 7,
      "RelatedSystemState": "Running",
      "Name": "绿灯",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "绿灯"
    },
    {
      "Point": 2,
      "RelatedSystemState": "Paused",
      "Name": "安检前",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "安检前"
    },
    {
      "Point": 4,
      "RelatedSystemState": "Paused",
      "Name": "拉距1",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "拉距1"
    },
    {
      "Point": 9,
      "RelatedSystemState": "Paused",
      "Name": "创建包裹段",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "创建包裹段"
    },
    {
      "Point": 10,
      "RelatedSystemState": "Paused",
      "Name": "出口1",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "出口1"
    },
    {
      "Point": 3,
      "RelatedSystemState": "Paused",
      "Name": "摆轮段",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "摆轮段"
    },
    {
      "Point": 6,
      "RelatedSystemState": "Paused",
      "Name": "黄灯",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "黄灯"
    },
    {
      "Point": 7,
      "RelatedSystemState": "Paused",
      "Name": "绿灯",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "绿灯"
    },

    {
      "Point": 2,
      "RelatedSystemState": "EmergencyStop",
      "Name": "安检前",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "安检前"
    },
    {
      "Point": 4,
      "RelatedSystemState": "EmergencyStop",
      "Name": "拉距1",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "拉距1"
    },
    {
      "Point": 9,
      "RelatedSystemState": "EmergencyStop",
      "Name": "创建包裹段",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "创建包裹段"
    },
    {
      "Point": 10,
      "RelatedSystemState": "EmergencyStop",
      "Name": "出口1",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "出口1"
    },
    {
      "Point": 3,
      "RelatedSystemState": "EmergencyStop",
      "Name": "摆轮段",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "摆轮段"
    },
    {
      "Point": 6,
      "RelatedSystemState": "EmergencyStop",
      "Name": "黄灯",
      "TriggerState": "Low",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "黄灯"
    },
    {
      "Point": 7,
      "RelatedSystemState": "EmergencyStop",
      "Name": "绿灯",
      "TriggerState": "High",
      "DurationMs": 0,
      "DelayMs": 0,
      "Note": "绿灯"
    },
    {
      "Point": 5,
      "RelatedSystemState": "EmergencyStop",
      "Name": "红灯/蜂鸣",
      "TriggerState": "Low",
      "DurationMs": 5000,
      "DelayMs": 0,
      "Note": "红灯/蜂鸣"
    }
  ],
  //传感器配置
  "SensorOptions": [
    {
      "Point": 8,
      "Type": "ParcelCreateSensor",
      "TriggerState": "Low",
      "SensorName": "创建包裹",
      "PollIntervalMs": 10,
      "DebounceWindowMs": 30
    },
    {
      "Point": 9,
      "Type": "DiverterPositionSensor",
      "TriggerState": "Low",
      "SensorName": "摆轮1前感应IO",
      "PollIntervalMs": 5,
      "DebounceWindowMs": 30
    }
  ],
  //摆轮配置
  "WheelDiverterConnectionOptions": [
    {
      "DiverterId": 1,
      "SpeedMmps": 1200,
      "Endpoint": "192.168.5.101",
      "Port": 2000,
      "Mode": "Client",
      "ConnectTimeoutMs": 3000,
      "ReceiveTimeoutMs": 500,
      "SendTimeoutMs": 500,
      "IsAutoReconnectEnabled": true,
      "ReconnectMinDelayMs": 100,
      "ReconnectMaxDelayMs": 2000,
      "ReconnectBackoffFactor": 1.2
    }
  ],
  //线段配置
  "ConveyorSegmentOptions": [
    {
      "SegmentId": 1,
      "SegmentName": "入口到摆轮D1",
      "LengthMm": 4700,
      "SpeedMmps": 1600,
      "TimeToleranceMs": 600
    },
    {
      "SegmentId": 2,
      "SegmentName": "摆轮D1到摆轮D2",
      "LengthMm": 6300,
      "SpeedMmps": 1350,
      "TimeToleranceMs": 600
    },
    {
      "SegmentId": 3,
      "SegmentName": "摆轮D2到摆轮D3",
      "LengthMm": 6300,
      "SpeedMmps": 1400,
      "TimeToleranceMs": 600
    },
    {
      "SegmentId": 4,
      "SegmentName": "摆轮D3到摆轮D4",
      "LengthMm": 6000,
      "SpeedMmps": 1300,
      "TimeToleranceMs": 600
    },
    {
      "SegmentId": 5,
      "SegmentName": "摆轮D4到摆轮D5",
      "LengthMm": 5500,
      "SpeedMmps": 1300,
      "TimeToleranceMs": 600
    }
  ],
  //位置配置
  "PositionOptions": [
    {
      "PositionIndex": 1,
      "FrontSensorId": 9,
      "DiverterId": 1,
      "SegmentId": 1,
      "LeftChuteIds": [],
      "RightChuteIds": [ 1 ],
      "Remarks": "摆轮1"
    }
  ],
  //拉距IO配置
  "SpacingPause": {
    "IsSpacingPauseEnabled": true,
    "PauseSensorPoint": 14,
    "PauseSensorTriggerState": "Low",
    "WeighingStationEntryPoint": 201,
    "WeighingStationEntryTriggerState": "High",
    "WeighingStationExitPoint": 202,
    "WeighingStationExitTriggerState": "High",
    "SpacingIoTriggers": [
      {
        "Point": 301,
        "TriggerState": "High"
      },
      {
        "Point": 302,
        "TriggerState": "High"
      }
    ]
  }
}
